from django.contrib import admin
# from users import models
import inspect
from .models import Users,UserPermissions,Roles,RolePermissions,Permissions
# for name, obj in inspect.getmembers(models):
#     if inspect.isclass(obj):
#         try: admin.site.register(obj)
#         except: pass


class UsersAdminColumn(admin.ModelAdmin):
    def get_list_display(self, request):
        return [field.name for field in self.model._meta.fields]
    
    # Make all fields clickable
    def get_list_display_links(self, request, list_display):
        return list_display 
admin.site.register(Users,UsersAdminColumn)

class UsersPermissionAdminColumn(admin.ModelAdmin):
    def get_list_display(self, request):
        return [field.name for field in self.model._meta.fields]
    
    # Make all fields clickable
    def get_list_display_links(self, request, list_display):
        return list_display 
admin.site.register(UserPermissions,UsersPermissionAdminColumn)

class RolesAdminColumn(admin.ModelAdmin):
    def get_list_display(self, request):
        return [field.name for field in self.model._meta.fields]
    
    # Make all fields clickable
    def get_list_display_links(self, request, list_display):
        return list_display 
admin.site.register(Roles,RolesAdminColumn)

class RolesPermissionAdminColumn(admin.ModelAdmin):
    def get_list_display(self, request):
        return [field.name for field in self.model._meta.fields]
    
    # Make all fields clickable
    def get_list_display_links(self, request, list_display):
        return list_display 
admin.site.register(RolePermissions,RolesPermissionAdminColumn)


class PermissionAdminColumn(admin.ModelAdmin):
    def get_list_display(self, request):
        return [field.name for field in self.model._meta.fields]
    
    # Make all fields clickable
    def get_list_display_links(self, request, list_display):
        return list_display 
admin.site.register(Permissions,PermissionAdminColumn)